var g=Object.defineProperty;var w=(o,t,n)=>t in o?g(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n;var i=(o,t,n)=>(w(o,typeof t!="symbol"?t+"":t,n),n);const S=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}};S();function x(o,t=0,n=1){return Array.from({length:o}).map(()=>{const s=Math.floor(Math.random()*n);return Math.max(t,Math.min(s,n))})}function b(o,t){return Math.floor(t*(o/100))}class y{constructor(t){i(this,"canvas");i(this,"ctx");this.canvas=t,this.canvas.width=750,this.canvas.height=500,this.ctx=t.getContext("2d")}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}drawData(t){var e;this.clear(),this.ctx.fillStyle=(e=window.getComputedStyle(this.canvas).color)!=null?e:"red";const n=this.canvas.width/t.length;let s=0;for(const r of t){const c=b(r,this.canvas.height),v=this.canvas.height-c;this.ctx.fillRect(s,v,n,c),s+=n}}}class C extends CustomEvent{constructor(t){super("sort",{detail:[...t]})}}class E extends EventTarget{sort(t){for(let n=0;n<t.length;n++)for(let s=0;s<t.length-1;s++)if(t[s]>t[s+1]){let e=t[s+1];t[s+1]=t[s],t[s]=e,this.dispatchEvent(new C(t))}return t}}const L=document.querySelector("#canvas"),a=document.querySelector("#sort-button"),h=new y(L),d=new E,l=[],u=x(100,0,100);let f=0;h.drawData(u);p();function m(){requestAnimationFrame(m),!(l.length<=0)&&(console.debug("drawing"),h.drawData(l.shift()),f++,p())}function p(){const o=document.querySelector("#size"),t=document.querySelector("#ops");o.textContent=String(u.length),t.textContent=String(f)}a==null||a.addEventListener("click",o=>{d.addEventListener("sort",t=>{const n=t.detail;l.push(n)}),d.sort(u),m()});

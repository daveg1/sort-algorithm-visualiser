var m=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var s=(t,e,n)=>(m(t,e,"read from private field"),n?n.call(t):e.get(t)),d=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},h=(t,e,n,o)=>(m(t,e,"write to private field"),o?o.call(t,n):e.set(t,n),n);const w=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}};w();function b(t,e=0,n=1){return Array.from({length:t}).map(()=>{const o=Math.floor(Math.random()*n);return Math.max(e,Math.min(o,n))})}function E(t,e){return Math.floor(e*(t/100))}var l,c;class L{constructor(e){d(this,l,void 0);d(this,c,void 0);if(!(e instanceof HTMLCanvasElement))throw new Error("Not a canvas element");h(this,l,e),h(this,c,e.getContext("2d"))}clear(){s(this,c).clearRect(0,0,s(this,l).width,s(this,l).height)}updateDimensions(){s(this,l).width=innerWidth,s(this,l).height=innerHeight}drawData(e){this.clear(),s(this,c).fillStyle="#f00";const n=innerWidth/e.length;let o=0;for(const i of e){const r=E(i,s(this,l).height),u=s(this,l).height-r;s(this,c).fillRect(o,u,n,r),o+=n}}}l=new WeakMap,c=new WeakMap;class y extends EventTarget{sort(e){for(let n=0;n<e.length;n++)for(let o=0;o<e.length-1;o++)if(e[o]>e[o+1]){let i=e[o+1];e[o+1]=e[o],e[o]=i,this.dispatchEvent(new CustomEvent("sort",{detail:[...e]}))}return e}}const M=document.querySelector("#canvas"),D=document.querySelector("#sort-button"),a=new L(M),p=new y,f=[];window.addEventListener("resize",a.updateDimensions.bind(a));const g=b(100,0,100);a.updateDimensions();a.drawData(g);function v(){requestAnimationFrame(v),f.length&&(console.debug("hello"),a.drawData(f.shift()))}D.addEventListener("click",t=>{p.addEventListener("sort",e=>{f.push(e.detail)}),p.sort(g),v()});
